.wp-block-seo44-jump-links{
	margin-bottom: 1em;
}
/* Style the On This Page Text */
.wp-block-seo44-jump-links-heading{
	font-size: calc(var(--jump-link-font-size, 1em) * 1.375);
	flex-basis: 100%;
}

/* Jump Links Block Styles */
.wp-block-seo44-jump-links.list-style-none > ul {
    list-style-type: none;
    padding-left: 0;
}

/* Jump Links Block - Horizontal Layout Styles */
.wp-block-seo44-jump-links.is-layout-horizontal ol,
.wp-block-seo44-jump-links.is-layout-horizontal ul {
    list-style-type: none;
    padding: 0;
    margin: 0.5em 0 1em;
    gap: 0.5em;
	display: flex;
	flex-wrap: wrap;
}

.wp-block-seo44-jump-links li a {    
    /* USE THE VARIABLE */
    color: var(--seo44-link-color, #0073aa); /* Fallback to default blue */
}

.wp-block-seo44-jump-links.is-layout-horizontal li a {
    display: inline-block;
    padding: 0.5em 1em;
	text-decoration: none;
	border-width: 1px;     
    border-style: solid;

	/* USE THE VARIABLES */
    background-color: var(--seo44-link-bg);
    border-color: var(--seo44-link-border-color);
    border-radius: var(--seo44-link-radius);
}

.wp-block-seo44-jump-links.is-layout-horizontal li a:hover {
	text-decoration: underline;
	text-underline-offset: .1em;
	background-color: var(--seo44-link-hover-bg); 
}

/* Styling for the Collapsible Feature */
.wp-block-seo44-jump-links.is-collapsible > nav > ul,
.wp-block-seo44-jump-links.is-collapsible > nav > ol {
    /* If horizontal, allow wrapping so we can see the overflow */
    flex-wrap: wrap;
    /* Limit to roughly one line of text height */
    max-height: 2.5em; 
    overflow: hidden;
    transition: max-height 0.3s ease-in-out;
}

.wp-block-seo44-jump-links.is-collapsible.is-expanded > nav > ul,
.wp-block-seo44-jump-links.is-collapsible.is-expanded > nav > ol {
    max-height: 1000px; /* A large value to reveal all content */
}

/* The button is hidden by default; our JS shows it only when needed */
.wp-block-seo44-jump-links .seo-44-show-more {
    display: none;
    border: 1px solid currentColor; /*  border: none; */
    border-radius: 4px;
    cursor: pointer;
    padding: 0;
    line-height: 1;
}

.wp-block-seo44-jump-links .seo-44-show-more svg {
    width: 30px;
    height: 30px;
    fill: currentColor;
}

/* Logic to show/hide the correct arrow icon */
.wp-block-seo44-jump-links .seo-44-show-more .arrow-up { display: none; }
.wp-block-seo44-jump-links.is-expanded .seo-44-show-more .arrow-down { display: none; }
.wp-block-seo44-jump-links.is-expanded .seo-44-show-more .arrow-up { display: inline-block; }

/* DYNAMIC COLLAPSED HEIGHTS */
/* Vertical Layout: Collapse to 2 lines */
.wp-block-seo44-jump-links.is-collapsible:not(.is-layout-horizontal) > nav > ul,
.wp-block-seo44-jump-links.is-collapsible:not(.is-layout-horizontal) > nav > ol {
    max-height: calc(var(--jump-link-font-size, 1em) * 1.9 * 2); /* font-size * generous line-height * 2 lines */
    overflow: hidden;
    transition: max-height 0.3s ease-in-out;
	max-width: calc(100% - 40px);
    display: inline-block;
}
.wp-block-seo44-jump-links.is-collapsible:not(.is-layout-horizontal) .seo-44-show-more{
	vertical-align: top;
    margin-top: calc(var(--jump-link-font-size, 1em) * 1.8);
}
/* Horizontal Layout: Collapse to 1 line */
.wp-block-seo44-jump-links.is-collapsible.is-layout-horizontal > nav > ul,
.wp-block-seo44-jump-links.is-collapsible.is-layout-horizontal > nav > ol {
    max-height: calc(var(--jump-link-font-size, 1em) * 1.7 + 1.5em); /* font-size * line-height + padding */
    overflow: hidden;
    transition: max-height 0.3s ease-in-out;
}

/* Expanded state for both layouts */
.wp-block-seo44-jump-links.is-collapsible.is-expanded > nav > ul,
.wp-block-seo44-jump-links.is-collapsible.is-expanded > nav > ol {
    max-height: 1000px;
}

/* HORIZONTAL LAYOUT: BUTTONS BESIDE LIST */
.wp-block-seo44-jump-links.is-layout-horizontal.is-collapsible > nav {
    display: flex;
    align-items: flex-start;
    gap: 0.5em;
    flex-wrap: wrap;
}

.wp-block-seo44-jump-links.is-layout-horizontal.is-collapsible > nav > ul,
.wp-block-seo44-jump-links.is-layout-horizontal.is-collapsible > nav > ol {
    flex-basis: 0;
    flex-grow: 1;
}

.wp-block-seo44-jump-links.is-layout-horizontal.is-collapsible > nav > .seo-44-show-more {
    flex-shrink: 0;
    margin-top: 0.5em;
}

/* STICKY JUMP LINKS */
.wp-block-seo44-jump-links.is-sticky {
    position: sticky;
    position: -webkit-sticky;
    top: var(--seo44-sticky-offset, 20px);
    z-index: 10;
    /* Optional: Add a slight shadow or background when sticky */
    background-color: var(--seo44-link-bg, #fff); 
}

/* The "Disable on Mobile" Logic */
@media (max-width: 781px) {
    .wp-block-seo44-jump-links.is-sticky.sticky-desktop-only {
        position: static; /* Revert to normal flow */
        top: auto;
    }
}
/* Add scrollspy - active section link is bold and horizontal background */
/* Base Active Style (Bold text for everyone) */
.wp-block-seo44-jump-links a.is-active {
    font-weight: bold;
    color: var(--seo44-link-color);
}

/* Horizontal-Only Active Style (Background color) */
.wp-block-seo44-jump-links.is-layout-horizontal a.is-active {
    background-color: var(--seo44-link-hover-bg);
    text-decoration: none; /* Optional: remove underline when active */
}

/* Vertical-Only Active Style (Left Border indicator) */
.wp-block-seo44-jump-links:not(.is-layout-horizontal) a.is-active {
    border-left: 3px solid var(--seo44-link-color);
    padding-left: 0.5em;
}
